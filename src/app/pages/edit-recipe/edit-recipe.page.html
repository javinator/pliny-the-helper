<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="navigateBack()">
        <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>
      Edit Recipe {{ recipe ? '"' + recipe.name + '"' : '' }}
    </ion-title>
    <ion-buttons slot="end">
      <ion-button *ngIf="activeTab === 'details'">
        <ion-icon slot="icon-only" name="pencil"></ion-icon>
      </ion-button>
      <ion-button id="open-delete-alert">
        <ion-icon slot="icon-only" name="trash"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content class="ion-padding" *ngIf="recipe">
  <ion-segment [value]="activeTab" (ionChange)="tabChanged($event)">
    <ion-segment-button value="ingredients" layout="icon-start">
      <ion-icon name="basket"></ion-icon>
      <ion-label class="ion-hide-xl-down">Ingredients</ion-label>
    </ion-segment-button>
    <ion-segment-button value="details" layout="icon-start">
      <ion-icon name="information"></ion-icon>
      <ion-label class="ion-hide-xl-down">Details</ion-label>
    </ion-segment-button>
  </ion-segment>
  <ng-container [ngSwitch]="activeTab">
    <ng-container *ngSwitchCase="'ingredients'">
      <edit-ingredients-card [recipe]="recipe"></edit-ingredients-card>
    </ng-container>
    <ng-container *ngSwitchCase="'details'">
      <edit-details-card [recipe]="recipe"></edit-details-card>
    </ng-container>
  </ng-container>
</ion-content>

<ion-alert
  trigger="open-delete-alert"
  header="Confirm"
  [message]="'Delete Recipe \'' + recipe?.name + '\'?'"
  [buttons]="deleteButtons"
></ion-alert>
